"""
Extracted from: exploitability_exploitation.md
"""

import numpy as np

payoff = np.array([[1, -1], [-2, 2]])  # row player payoff

def best_response_value(p_col):
    ev_rows = payoff @ p_col
    return ev_rows.max(), ev_rows.argmax()

p_col = np.array([0.6, 0.4])  # opponent mix
br_val, br_action = best_response_value(p_col)

ev_mix = np.array([0.5, 0.5]) @ (payoff @ p_col)
exploitability = br_val - ev_mix

print("Best response action:", br_action)
print("Exploitability:", round(exploitability, 3))
